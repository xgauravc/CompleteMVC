@model MVCAjaxHelpersDemo.Models.Employee
@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>
<div style="display:none" id="loader">
    <img src="~/Content/images.png" width="200" height="80" />
</div>
@using (Ajax.BeginForm("Index", new AjaxOptions 
{ 
    Url="/Home/Index",
    HttpMethod = "POST", 
    OnSuccess = "fnSuccess", 
    OnFailure = "fnFailure",
    LoadingElementId="loader",
    LoadingElementDuration= 2000
}))
{
    <div class="mb-3">
        @Html.LabelFor(x => x.Email, new { @class="form-label" }) 
        @Html.EditorFor(x=> x.Email, new { @class = "form-control" })
        
    </div>
    <div class="mb-3">
        @Html.LabelFor(x => x.Name, new { @class="form-label" }) 
        @Html.EditorFor(x=> x.Name, new { @class = "form-control" })
        
    </div>
    <div class="mb-3">
    @Html.LabelFor(x => x.Designation, new { @class = "form-label" })
    @Html.EditorFor(x => x.Designation, new { @class = "form-control" })

    </div>

    <input type="submit", value="Send data" class="btn btn-primary"/>
    
}

<script>
    function fnSuccess(data) {
        console.log(data);
    }
    function fnFailure(err) {
        console.error(err);
    }
</script>